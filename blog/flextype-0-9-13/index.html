<!doctype html>
<html lang="en_US">
<head>
            <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="Developer with a strong will for learning and researching new technologies and architectural solutions. Founder of Thermage, Flextype, Glowy PHP, Faker JavaScript, Dart Packages and other.">
        <meta name="keywords" content="flextype, php, cms, thermage, glowyphp, html">
        <meta name="robots" content="index, follow">
        <meta name="generator" content="Powered by Flextype"/>
        <meta name="yandex-verification" content="43db5e67acec9539" />
        <meta name="google-site-verification" content="XyouR0hgvSfKtO4fRBGJ5NCcbivoHxHdTIfeqFElADo" />
        <meta name="google-site-verification" content="QCOiDmY3CImL3EPYu4WstZRkkOZKPr6LGOstWU1ZGXI" />
        
        
        <title>Flextype 0.9.13 release | Sergey Romanenko</title>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/github-dark.min.css">

                
                                    <link href="https://awilum.github.io/project/themes/dev/assets/dist/css/dev.min.css" rel="stylesheet">
                    
            </head>
<body class="antialiased text-slate-900 dark:text-slate-300 bg-white dark:bg-slate-900">
    <header class="bg-white dark:bg-slate-800 border-b border-l border-r border-slate-900 flex items-center container mx-auto max-w-[1200px] plate-shadow">
        <a href="https://awilum.github.io" class="m-0 p-0 p-6 py-2 px-3 text-xs font-bold text-center border-r border-slate-900 brand-logo no-underline text-pink-500">
            AWILUM
        </a>
        <a class="m-0 p-0 px-3 py-2 border-r border-slate-900 font-bold text-xs uppercase no-underline hidden lg:block " rel="nofollow" href="https://awilum.github.io/blog">
            Blog
        </a>
        <div class="flex justify-center hidden lg:block">
            <div
                x-data="{
                    open: false,
                    toggle() {
                        if (this.open) {
                            return this.close()
                        }

                        this.open = true
                    },
                    close(focusAfter) {
                        this.open = false

                        focusAfter && focusAfter.focus()
                    }
                }"
                x-on:keydown.escape.prevent.stop="close($refs.button)"
                x-on:focusin.window="! $refs.panel.contains($event.target) && close()"
                x-id="['dropdown-button']"
                class="relative"
            >
                <!-- Button -->
                <button
                    x-ref="button"
                    x-on:click="toggle()"
                    :aria-expanded="open"
                    :aria-controls="$id('dropdown-button')"
                    type="button"
                    class="outline-none hover:text-pink-500 m-0 p-0 px-3 py-2 font-bold text-xs uppercase no-underline border-r border-slate-900 "
                >
                    <span>Projects</span>
                </button>

                <!-- Panel -->
                <div
                    x-ref="panel"
                    x-show="open"
                    x-transition.origin.top.left
                    x-on:click.outside="close($refs.button)"
                    :id="$id('dropdown-button')"
                    style="display: none; box-shadow: 3px 3px 0 #0f172a"
                    class="absolute left-0 mt-2 w-44 bg-white border border-slate-900 rounded overflow-hidden z-50 dark:bg-slate-800 plate-shadow"
                >
                    <div>
                        <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://awilum.github.io/thermage">Thermage</a>
                        <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://awilum.github.io/flextype">Flextype</a>
                        <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://awilum.github.io/glowyphp">Glowy PHP</a>
                        <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://github.com/faker-javascript">Faker JavaScript</a>
                    </div>
                </div>
            </div>
        </div>
        <a class="m-0 p-0 px-3 py-2 border-r border-slate-900 font-bold text-xs uppercase no-underline hidden lg:block " href="https://awilum.github.io/sponsors">
            Sponsors
        </a>
        <div class="flex justify-center lg:hidden">
    <div
        x-data="{
            open: false,
            toggle() {
                if (this.open) {
                    return this.close()
                }

                this.open = true
            },
            close(focusAfter) {
                this.open = false

                focusAfter && focusAfter.focus()
            }
        }"
        x-on:keydown.escape.prevent.stop="close($refs.button)"
        x-on:focusin.window="! $refs.panel.contains($event.target) && close()"
        x-id="['dropdown-button']"
        class="relative"
    >
        <!-- Button -->
        <button
            x-ref="button"
            x-on:click="toggle()"
            :aria-expanded="open"
            :aria-controls="$id('dropdown-button')"
            type="button"
            class="outline-none hover:text-pink-500 m-0 p-0 px-3 py-2 font-bold text-xs uppercase no-underline border-r border-slate-900 "
        >
            <span>
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                class="hover:stroke-pink-500 hover:fill-pink-500 dark:stroke-slate-300 dark:fill-slate-300" width="16" height="18" viewBox="0 0 447 447" style="enable-background:new 0 0 447 447;" xml:space="preserve">
                <g>
                    <path d="M447,303.5c0-17.369-14.131-31.5-31.5-31.5H407v-20.931c4.28-2.411,8.845-4.069,16.5-4.069c4.142,0,7.5-3.358,7.5-7.5
                        s-3.358-7.5-7.5-7.5c-6.821,0-12.107,1.056-16.5,2.611v-12.846c9.29-3.138,16-11.93,16-22.266v-8.998
                        c0-16.559-4.338-32.53-12.544-46.185c-16.138-26.852-39.856-43.444-56.912-52.635C319.455,73.314,275.702,64,223.5,64
                        c-52.201,0-95.954,9.314-130.043,27.683c-30.901,16.651-48.005,37.813-56.912,52.635C28.338,157.973,24,173.943,24,190.502v8.998
                        c0,10.336,6.71,19.128,16,22.266v12.852C35.609,233.059,30.323,232,23.5,232c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5
                        c7.658,0,12.219,1.665,16.5,4.083V272h-8.5C14.131,272,0,286.131,0,303.5c0,14.784,10.241,27.216,24,30.59v9.41
                        c0,21.78,17.72,39.5,39.5,39.5h320c21.78,0,39.5-17.72,39.5-39.5v-9.41C436.76,330.716,447,318.285,447,303.5z M392,223v19.72
                        c-4.941,3.049-9.665,5.28-18.544,5.28c-10.318,0-15.024-3.009-20.982-6.819c-6.73-4.303-14.359-9.181-29.063-9.181
                        c-14.697,0-22.321,4.878-29.048,9.183c-5.953,3.809-10.654,6.817-20.962,6.817c-10.296,0-14.993-3.008-20.938-6.816
                        c-6.722-4.305-14.341-9.184-29.028-9.184c-14.693,0-22.315,4.879-29.04,9.183c-5.95,3.809-10.65,6.817-20.954,6.817
                        c-10.3,0-14.998-3.008-20.946-6.816C145.771,236.879,138.15,232,123.46,232c-14.69,0-22.311,4.879-29.034,9.184
                        C88.478,244.992,83.78,248,73.48,248c-8.844,0-13.558-2.22-18.48-5.259V223H392z M39,190.502c0-13.837,3.597-27.136,10.401-38.458
                        c7.94-13.212,23.264-32.119,51.171-47.156C132.451,87.71,173.81,79,223.5,79s91.05,8.71,122.928,25.888
                        c27.907,15.038,43.23,33.944,51.171,47.156C404.404,163.366,408,176.665,408,190.502v8.998c0,4.687-3.813,8.5-8.5,8.5h-352
                        c-4.687,0-8.5-3.813-8.5-8.5V190.502z M55,259.624C59.764,261.59,65.6,263,73.48,263c14.69,0,22.311-4.879,29.034-9.184
                        c5.948-3.809,10.646-6.816,20.946-6.816c10.3,0,14.999,3.008,20.947,6.816c6.724,4.305,14.344,9.184,29.034,9.184
                        c14.693,0,22.315-4.879,29.041-9.183c5.95-3.809,10.649-6.817,20.953-6.817c10.296,0,14.993,3.008,20.938,6.816
                        c6.722,4.305,14.341,9.184,29.028,9.184c14.696,0,22.321-4.878,29.047-9.183c5.953-3.809,10.654-6.817,20.963-6.817
                        c10.318,0,15.024,3.009,20.981,6.818c6.73,4.304,14.359,9.182,29.063,9.182c7.913,0,13.767-1.418,18.544-3.394V272H55V259.624z
                        M383.5,368h-320C49.991,368,39,357.01,39,343.5V335h369v8.5C408,357.01,397.01,368,383.5,368z M415.5,320H290.319
                        c2.965-4.802,4.681-10.454,4.681-16.5c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5c0,9.098-7.402,16.5-16.5,16.5h-232
                        c-9.098,0-16.5-7.402-16.5-16.5S22.402,287,31.5,287h136c9.098,0,16.5,7.402,16.5,16.5c0,4.142,3.358,7.5,7.5,7.5
                        s7.5-3.358,7.5-7.5c0-6.046-1.716-11.698-4.681-16.5H415.5c9.098,0,16.5,7.402,16.5,16.5C432,312.598,424.599,320,415.5,320z"/>
                    <path d="M191.5,167c1.919,0,3.839-0.732,5.303-2.197l8-8c2.929-2.929,2.929-7.678,0-10.606c-2.929-2.929-7.678-2.929-10.606,0l-8,8
                        c-2.929,2.929-2.929,7.678,0,10.606C187.661,166.268,189.581,167,191.5,167z"/>
                    <path d="M266.197,156.803c1.464,1.464,3.384,2.197,5.303,2.197s3.839-0.732,5.303-2.197c2.929-2.929,2.929-7.678,0-10.606l-8-8
                        c-2.929-2.929-7.678-2.929-10.606,0c-2.929,2.929-2.929,7.678,0,10.606L266.197,156.803z"/>
                    <path d="M103.5,175c1.919,0,3.839-0.732,5.303-2.197l8-8c2.929-2.929,2.929-7.678,0-10.606c-2.929-2.929-7.678-2.929-10.606,0l-8,8
                        c-2.929,2.929-2.929,7.678,0,10.606C99.661,174.268,101.581,175,103.5,175z"/>
                    <path d="M151.5,135c4.142,0,7.5-3.358,7.5-7.5v-8c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v8
                        C144,131.642,147.358,135,151.5,135z"/>
                    <path d="M239.5,191h8c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5h-8c-4.142,0-7.5,3.358-7.5,7.5S235.358,191,239.5,191z"/>
                    <path d="M311.5,183c1.919,0,3.839-0.732,5.303-2.197l8-8c2.929-2.929,2.929-7.678,0-10.606c-2.929-2.929-7.678-2.929-10.606,0l-8,8
                        c-2.929,2.929-2.929,7.678,0,10.606C307.662,182.268,309.581,183,311.5,183z"/>
                    <path d="M218.197,116.803c1.464,1.464,3.384,2.197,5.303,2.197s3.839-0.732,5.303-2.197c2.929-2.929,2.929-7.678,0-10.606l-8-8
                        c-2.929-2.929-7.678-2.929-10.606,0c-2.929,2.929-2.929,7.678,0,10.606L218.197,116.803z"/>
                    <path d="M154.197,188.803c1.464,1.464,3.384,2.197,5.303,2.197s3.839-0.732,5.303-2.197c2.929-2.929,2.929-7.678,0-10.606l-8-8
                        c-2.929-2.929-7.678-2.929-10.606,0c-2.929,2.929-2.929,7.678,0,10.606L154.197,188.803z"/>
                    <path d="M278.17,115.492c5.311,0.958,10.51,2.083,15.453,3.344c0.622,0.158,1.245,0.234,1.859,0.234
                        c3.347,0,6.397-2.257,7.262-5.648c1.023-4.014-1.4-8.097-5.414-9.121c-5.287-1.348-10.837-2.549-16.496-3.571
                        c-4.075-0.732-7.978,1.973-8.713,6.049C271.386,110.855,274.094,114.756,278.17,115.492z"/>
                    <path d="M324.299,129.647c25.918,12.175,39.251,27.863,45.872,38.88c2.849,4.74,4.679,10.104,5.441,15.942
                        c0.493,3.778,3.717,6.531,7.428,6.531c0.323,0,0.65-0.021,0.979-0.064c4.107-0.536,7.002-4.3,6.467-8.407
                        c-1.03-7.897-3.54-15.208-7.458-21.729c-7.693-12.801-23.021-30.953-52.351-44.731c-3.75-1.759-8.215-0.149-9.977,3.6
                        C318.939,123.419,320.55,127.886,324.299,129.647z"/>
                </g>
                </svg>
            </span>
        </button>

        <!-- Panel -->
        <div
            x-ref="panel"
            x-show="open"
            x-transition.origin.top.left
            x-on:click.outside="close($refs.button)"
            :id="$id('dropdown-button')"
            style="display: none; box-shadow: 3px 3px 0 #0f172a"
            class="absolute left-0 mt-2 w-48 bg-white border border-slate-900 rounded shadow-md overflow-hidden z-50 dark:bg-slate-800 plate-shadow"
        >
            <div>
                <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://awilum.github.io/blog">
                    Blog
                </a>
                <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://awilum.github.io/thermage">Thermage</a>
                <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://awilum.github.io/flextype">Flextype</a>
                <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://awilum.github.io/glowyphp">Glowy PHP</a>
                <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://github.com/faker-javascript">Faker JavaScript</a>
                <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://awilum.github.io/sponsors">
                    Sponsors
                </a>
                <a class="block px-3 py-2 font-bold text-xs uppercase no-underline border-b border-slate-900" href="https://awilum.github.io/about">
                    About
                </a>
            </div>
        </div>
    </div>
</div>        <div class="flex" style="margin-left: auto;">
            <a class="m-0 p-0 px-3 py-2 border-l border-slate-900 font-bold text-xs uppercase no-underline" href="https://awilum.github.io/about">
                About
            </a>
        </div>
    </header>

    <main role="main" class="container mx-auto max-w-[1200px]">
        <section>
            <div class="blog-post px-6 lg:px-28">
    <h2 class="text-5xl mt-10 mb-10 font-bold">Flextype 0.9.13 release</h2>
    <h3>Features</h3>
<ul>
<li>
<p><strong>media-files</strong> we will use <code>fetch()</code> method as entry point to execute different methods with <code>fetch</code> prefix. (<a href="https://github.com/flextype/flextype/issues/508">#508</a>)</p>
<pre><code class="language-php">/**
 * Fetch.
 *
 * @param string $id      The path to file.
 * @param array  $options Options array.
 *
 * @access public
 *
 * @return self Returns instance of The Arrays class.
 */
public function fetch(string $id, array $options = []): Arrays
</code></pre>
<p>Media Files API is macroable and we will able to add any custom fetch methods for receiving data from different sources.</p>
<pre><code class="language-php">flextype('media')-&gt;files()::macro('fetchFromOtherStorage', function(string $id, array $options) {
  // fetch data from Other Storage using $id and $options
});

$data = flextype('media')-&gt;files()-&gt; fetchFromOtherStorage($id, $options);
</code></pre>
</li>
<li>
<p><strong>media-folders</strong> we will use <code>fetch()</code> method as entry point to execute different methods with <code>fetch</code> prefix. (<a href="https://github.com/flextype/flextype/issues/509">#509</a>)</p>
<pre><code class="language-php">/**
 * Fetch.
 *
 * @param string $id      The path to folder.
 * @param array  $options Options array.
 *
 * @access public
 *
 * @return self Returns instance of The Arrays class.
 */
public function fetch(string $id, array $options = []): Arrays
</code></pre>
<p>Media Folders API is macroable and we will able to add any custom fetch methods for receiving data from different sources.</p>
<pre><code class="language-php">flextype('media')-&gt;folders()::macro('fetchFromOtherStorage', function(string $id, array $options) {
  // fetch data from Other Storage using $id and $options
});

$data = flextype('media')-&gt;folders()-&gt; fetchFromOtherStorage($id, $options);
</code></pre>
</li>
<li>
<p><strong>entries</strong> we will use <code>fetch()</code> method as entry point to execute different methods with <code>fetch</code> prefix. (<a href="https://github.com/flextype/flextype/issues/495">#495</a>)</p>
<pre><code class="language-php">/**
* Fetch.
*
* @param string $id      Unique identifier of the entry.
* @param array  $options Options array.
*
* @access public
*
* @return mixed
*/
public function fetch(string $id, array $options = []): Arrays
</code></pre>
<p>Entries API is macroable and we will able to add any custom fetch methods for receiving data from different sources.</p>
<pre><code class="language-php">flextype('entries')::macro('fetchXML', function(string $id, array $options) {
// fetch data from XML using $id and $options
});

$data = flextype('entries')-&gt;fetchXML($id, $options);
</code></pre>
</li>
<li>
<p><strong>images</strong> we will use <code>media/</code> folder instead of <code>uploads/entries/</code> (<a href="https://github.com/flextype/flextype/issues/516">#516</a>)</p>
</li>
<li>
<p><strong>serializers</strong> standardise serializers container names with macroable ability. (<a href="https://github.com/flextype/flextype/issues/518">#518</a>)</p>
<p><strong>New methods to access Serializers:</strong></p>
<pre><code class="language-php">flextype('serializers')-&gt;yaml()
flextype('serializers')-&gt;json()
flextype('serializers')-&gt;frontmatter()
</code></pre>
<p><strong>Adding macros:</strong></p>
<pre><code class="language-php">flextype('serializers')::macro('NAME', CALLBACK_FUNCTION() {});
</code></pre>
</li>
<li>
<p><strong>parsers</strong> standardise parsers container names with macroable ability. (<a href="https://github.com/flextype/flextype/issues/519">#519</a>)</p>
<p><strong>New methods to access Parsers:</strong></p>
<pre><code class="language-php">flextype('parsers')-&gt;shortcode()
flextype('parsers')-&gt;markdown()
</code></pre>
<p><strong>Adding macros:</strong></p>
<pre><code class="language-php">flextype('parsers')::macro('NAME', CALLBACK_FUNCTION() {});
</code></pre>
</li>
<li>
<p><strong>media</strong> standardise media container names with macroable ability for Media API. (<a href="https://github.com/flextype/flextype/issues/517">#517</a>)</p>
<p>New macroable common class for all media - <code>class Media</code></p>
<p><strong>New methods to access Media API:</strong></p>
<pre><code class="language-php">flextype('media')-&gt;files()
flextype('media')-&gt;files()-&gt;meta()
flextype('media')-&gt;folders()
flextype('media')-&gt;folders()-&gt;meta()
</code></pre>
<p><strong>Adding macros:</strong></p>
<pre><code class="language-php">flextype('media')::macro('NAME', CALLBACK_FUNCTION() {});
flextype('media')-&gt;files()::macro('NAME', CALLBACK_FUNCTION() {});
flextype('media')-&gt;files()-&gt;meta()::macro('NAME', CALLBACK_FUNCTION() {});
flextype('media')-&gt;folders()::macro('NAME', CALLBACK_FUNCTION() {});
flextype('media')-&gt;folders()-&gt;meta()::macro('NAME', CALLBACK_FUNCTION() {});
</code></pre>
</li>
<li>
<p><strong>fields</strong> add new field <code>registry.get</code> for Registry API (<a href="https://github.com/flextype/flextype/issues/494">#494</a>)</p>
<p>Registry API provides method <code>get()</code> for retrieving data from registry and we should able to access them inside entries frontmatter header for retrieving data right in the entries.</p>
<p><strong>Basic Example</strong></p>
<p>Sample entry with several queries and with several nested queries inside of children entries.</p>
<p>File: <code>/project/entries/registry-root/entry.md</code></p>
<pre><code class="language-yaml">---
title: Root
registry:
  get:
    flextype:
      key: flextype.manifest.name
    author.name:
      key: flextype.manifest.author.name
    license:
      key: flextype.manifest.license
entries:
  fetch:
    level1:
      id: registry-root/level-1
---
</code></pre>
<p><strong>Setting for this fields</strong></p>
<p>File: <code>/project/config/flextype/settings.yaml</code></p>
<pre><code class="language-yaml">entries:
  fields:
    registry:
      get:
        enabled: true
</code></pre>
<p>Valid values for setting <strong>enabled</strong> is <strong>true</strong> or <strong>false</strong></p>
</li>
<li>
<p><strong>fields</strong> add new field <code>entries.fetch</code> for Entries API (<a href="https://github.com/flextype/flextype/issues/492">#492</a>)</p>
<p>Entries API provides methods for entries fetch: <code>fetch()</code> and we should able to access them inside entries frontmatter header for fetching data right in the entries. Also, we will able to add and use any kind of fetch methods with our macroable functionality.</p>
<p><strong>Basic Example</strong></p>
<p>Catalog entry with several queries and with several nested queries inside of children entries.</p>
<p>File: <code>/project/entries/catalog/entry.md</code></p>
<pre><code class="language-yaml">---
title: Catalog
visibility: visible
entries:
  fetch:
    label1:
      id: discounts/50-off
      options:
        filter:
          limit: 4
    bikes:
      id: catalog/bikes
      options:
        collection: true
        filter:
          where:
            -
              key: brand
              operator: eq
              value: gt
          limit: 10
    discounts:
      id: discounts
      options:
        collection: true
        filter:
          where:
            -
              key: title
              operator: eq
              value: '30% off'
            -
              key: category
              operator: eq
              value: bikes
---
</code></pre>
<p><strong>Setting for this fields</strong></p>
<p>File: <code>/project/config/flextype/settings.yaml</code></p>
<pre><code class="language-yaml">entries:
  fields:
    entries:
      fetch:
        enabled: true
        result: toObject
</code></pre>
<p>Valid values for setting <strong>enabled</strong> is <strong>true</strong> or <strong>false</strong><br />
Valid values for setting <strong>result</strong> is <strong>toObject</strong> or <strong>toArray</strong></p>
</li>
<li>
<p><strong>fields</strong> add new field <code>media.files.fetch</code> and <code>media.folders.fetch</code> for Media API's (<a href="https://github.com/flextype/flextype/issues/501">#501</a>) (<a href="https://github.com/flextype/flextype/issues/500">#500</a>)</p>
<p>Media API's provides methods for files and folders fetch: <code>fetch()</code> and we should able to access them inside entries frontmatter header for fetching data right in the entries. Also, we will able to add and use any kind of fetch methods with our macroable functionality.</p>
<pre><code class="language-yaml">---
title: Media
media:
  folders:
    fetch:
      macroable_folder:
        id: 'foo'
        options:
          method: fetchExtraData
      foo_folder:
        id: 'foo'
      collection_of_folders:
        id: '/'
        options:
          collection: true
  files:
    fetch:
      macroable_file:
        id: 'foo'
        options:
          method: fetchExtraData
      foo_file:
        id: foo.txt
      collection_of_files:
        id: '/'
        options:
          collection: true
---
</code></pre>
<p><strong>Setting for this fields</strong></p>
<p>File: <code>/project/config/flextype/settings.yaml</code></p>
<pre><code class="language-yaml">entries:
  fields:
    media:
      files:
        fetch:
          enabled: true
          result: toObject
      folders:
        fetch:
          enabled: true
          result: toObject
</code></pre>
<p>Valid values for setting <strong>enabled</strong> is <strong>true</strong> or <strong>false</strong><br />
Valid values for setting <strong>result</strong> is <strong>toObject</strong> or <strong>toArray</strong></p>
</li>
<li>
<p><strong>entries</strong> add new method <code>deleteStorage()</code> for Entries API (<a href="https://github.com/flextype/flextype/issues/498">#498</a>)</p>
</li>
<li>
<p><strong>entries</strong> add new method <code>hasStorage()</code> for Entries API (<a href="https://github.com/flextype/flextype/issues/497">#497</a>)</p>
</li>
<li>
<p><strong>core</strong> add new method <code>isApiRequest</code> to Determine API Request in the basic core functionality. (<a href="https://github.com/flextype/flextype/issues/507">#507</a>)</p>
</li>
<li>
<p><strong>rest-api-entries</strong> add ability to send options for <code>fetch()</code> methods in Entries Rest API. (<a href="https://github.com/flextype/flextype/issues/504">#504</a>)</p>
<p><strong>Fetch single</strong></p>
<pre><code>GET /api/entries?id=YOUR_ENTRY_ID&amp;token=YOUR_ENTRIES_TOKEN
</code></pre>
<p><strong>Fetch single with options</strong></p>
<pre><code>GET /api/entries?id=YOUR_ENTRY_ID&amp;options=[filter]&amp;token=YOUR_ENTRIES_TOKEN
</code></pre>
<p><strong>Fetch collection</strong></p>
<pre><code>GET /api/entries?id=YOUR_ENTRY_ID&amp;options[collection]=true&amp;token=YOUR_ENTRIES_TOKEN
</code></pre>
<p><strong>Fetch collection with options</strong></p>
<pre><code>GET /api/entries?id=YOUR_ENTRY_ID&amp;options[collection]=true&amp;options=[find]&amp;[filter]&amp;token=YOUR_ENTRIES_TOKEN
</code></pre>
</li>
<li>
<p><strong>rest-api-entries</strong> add ability to call macroable fetch methods. (<a href="https://github.com/flextype/flextype/issues/505">#505</a>)</p>
<p>With help of query option <code>?options[method]=</code> we should able to call any macroable fetch methods.</p>
<h3>Example</h3>
<p><strong>Macroable method XML</strong></p>
<pre><code>flextype('entries')::macro('fetchXml', function(string $id, array $options) {
  return ['XML DATA HERE'];
});
</code></pre>
<p><strong>HTTP GET:</strong></p>
<pre><code>GET /api/entries?id=YOUR_ID&amp;options[method]=fetchXml&amp;token=YOUR_ENTRIES_TOKEN
</code></pre>
</li>
<li>
<p><strong>rest-api-media</strong> reorganize endpoints for Media Rest API (<a href="https://github.com/flextype/flextype/issues/514">#514</a>)</p>
</li>
<li>
<p><strong>rest-api-media</strong> add ability to call macroable fetch methods for Folder. (<a href="https://github.com/flextype/flextype/issues/512">#512</a>)</p>
<p>With help of query option <code>?options[method]=</code> we should able to call any macroable fetch methods.</p>
<h3>Example</h3>
<p><strong>Macroable method</strong></p>
<pre><code>flextype('media')-&gt;folders()::macro('fetchFromOtherStorage', function(string $id, array $options) {
  // fetch data from Other Storage using $id and $options
});
</code></pre>
<p><strong>HTTP GET:</strong></p>
<pre><code>GET /api/folders?id=YOUR_MEDIA_FILES_ID&amp;options[method]= fetchFromOtherStorage&amp;token=YOUR_MEDIA_FOLDERS_TOKEN
</code></pre>
</li>
<li>
<p><strong>rest-api-media</strong> add ability to call macroable fetch methods for Files. (<a href="https://github.com/flextype/flextype/issues/513">#513</a>)</p>
<p>With help of query option <code>?option[method]=</code> we should able to call any macroable fetch methods.</p>
<h3>Example</h3>
<p><strong>Macroable method</strong></p>
<pre><code>flextype('media')-&gt;files()::macro('fetchFromOtherStorage', function(string $id, array $options) {
  // fetch data from Other Storage using $id and $options
});
</code></pre>
<p><strong>HTTP GET:</strong></p>
<pre><code>GET /api/files?id=YOUR_MEDIA_FILES_ID&amp;option[method]=fetchFromOtherStorage&amp;token=YOUR_MEDIA_FILES_TOKEN
</code></pre>
</li>
</ul>
<h3>Bug Fixes</h3>
<ul>
<li>
<p><strong>fields</strong> fix issue with slug field in Entries API (<a href="https://github.com/flextype/flextype/issues/520">#520</a>)</p>
</li>
<li>
<p><strong>core</strong> fix issue with invalid timezone setting (<a href="https://github.com/flextype/flextype/issues/490">#490</a>)</p>
</li>
<li>
<p><strong>entries</strong> fix issue with not exists entries collections. (<a href="https://github.com/flextype/flextype/issues/503">#503</a>)</p>
</li>
<li>
<p><strong>entries</strong> fix issue with collisions in Entries API $storage for entries fetching. (<a href="https://github.com/flextype/flextype/issues/496">#496</a>)</p>
</li>
<li>
<p><strong>rest-api-entries</strong> fix issue with 404 status code in Entries Rest API (<a href="https://github.com/flextype/flextype/issues/502">#502</a>)</p>
</li>
<li>
<p><strong>rest-api</strong> fix issue with Rest API endpoints initialisation. (<a href="https://github.com/flextype/flextype/issues/506">#506</a>)</p>
</li>
</ul>
<h3>BREAKING CHANGES</h3>
<ul>
<li>
<p><strong>media</strong> standardise media container names with macroable ability for Media API. (<a href="https://github.com/flextype/flextype/issues/517">#517</a>)</p>
<table>
<thead>
<tr>
<th>NEW CONTAINER</th>
<th>OLD CONTAINER</th>
</tr>
</thead>
</table>
<p>| media      | media_files, media_files_meta, media_folders, media_folders_meta      |</p>
</li>
<li>
<p><strong>parsers</strong> standardise parsers container names with macroable ability. (<a href="https://github.com/flextype/flextype/issues/519">#519</a>)</p>
<table>
<thead>
<tr>
<th>NEW CONTAINER</th>
<th>OLD CONTAINER</th>
</tr>
</thead>
</table>
<p>| parsers      | shortcode, markdown       |</p>
</li>
<li>
<p><strong>serializers</strong> standardise serializers container names with macroable ability. (<a href="https://github.com/flextype/flextype/issues/518">#518</a>)</p>
<table>
<thead>
<tr>
<th>NEW CONTAINER</th>
<th>OLD CONTAINER</th>
</tr>
</thead>
</table>
<p>| serializers      | yaml, json, frontmatter       |</p>
</li>
<li>
<p><strong>rest-api-media</strong> reorganize endpoints for Media Rest API (<a href="https://github.com/flextype/flextype/issues/514">#514</a>)</p>
<table>
<thead>
<tr>
<th></th>
<th>NEW ENDPOINT</th>
<th>OLD ENDPOINT</th>
</tr>
</thead>
</table>
<p>| <strong>GET</strong> |  /api/media/files |  /api/files |
| <strong>POST</strong> |  /api/media/files |  /api/files |
| <strong>PUT</strong> |  /api/media/files |  /api/files |
| <strong>PATCH</strong> |  /api/media/files |  /api/files |
| <strong>DELETE</strong> |  /api/media/files |  /api/files |
| <strong>POST</strong> |  /api/media/files/copy |  /api/files/copy |
| <strong>PATCH</strong> |  /api/media/files/meta |  /api/files/meta |
| <strong>POST</strong> |  /api/media/files/meta |  /api/files/meta |
| <strong>DELETE</strong> |  /api/media/files/meta |  /api/files/meta |
| <strong>GET</strong> |  /api/media/folders |  /api/folders |
| <strong>POST</strong> |  /api/media/folders |  /api/folders |
| <strong>PATCH</strong> |  /api/media/folders |  /api/folders |
| <strong>DELETE</strong> |  /api/media/folders |  /api/folders |
| <strong>POST</strong> |  /api/media/folders/copy |  /api/folders/copy |</p>
<p><strong>Tokens:</strong></p>
<ul>
<li>token for files should be moved from <code>/tokens/files/</code> to <code>/tokens/media/files/</code>
</li>
<li>token for folders should be moved from <code>/tokens/folders/</code> to <code>/tokens/media/folders/</code>
</li>
</ul>
<p><strong>Settings:</strong></p>
<pre><code class="language-yaml">api:
  ...
  media:
    files:
      enabled: true
      default_token:
    folders:
      enabled: true
      default_token:
</code></pre>
</li>
<li>
<p><strong>helpers</strong> <code>filter</code> helper return <code>array</code> result every time and not <code>int</code> or <code>bool</code>. (<a href="https://github.com/flextype/flextype/issues/493">#493</a>)</p>
</li>
<li>
<p><strong>helpers</strong> <code>filter</code> helper not support <code>slice_offset</code> and <code>slice_limit</code> because they are are duplicates already exists functionality <code>offset</code> and <code>limit</code>. (<a href="https://github.com/flextype/flextype/issues/493">#493</a>)</p>
</li>
<li>
<p><strong>helpers</strong> <code>filter</code> helper not support <code>count</code> and <code>exists</code>. (<a href="https://github.com/flextype/flextype/issues/493">#493</a>)</p>
</li>
<li>
<p><strong>entries</strong> we have changes in the events names for Entries API (<a href="https://github.com/flextype/flextype/issues/499">#499</a>)</p>
<p>Events:</p>
<p><strong>onEntriesFetch</strong><br />
<strong>onEntriesFetchSingle</strong> instead of <strong>onEntryInitialized</strong><br />
<strong>onEntriesFetchSingleCacheHasResult</strong> instead of <strong>onEntryAfterCacheInitialized</strong><br />
<strong>onEntriesFetchSingleNoResult</strong><br />
<strong>onEntriesFetchSingleHasResult</strong> instead of <strong>onEntryAfterInitialized</strong><br />
<strong>onEntriesFetchCollection</strong> instead of <strong>onEntriesInitialized</strong><br />
<strong>onEntriesFetchCollectionHasResult</strong> instead of <strong>onEntriesAfterInitialized</strong><br />
<strong>onEntriesFetchCollectionNoResult</strong><br />
<strong>onEntriesMove</strong> instead of <strong>onEntryMove</strong><br />
<strong>onEntriesUpdate</strong> instead of <strong>onEntryUpdate</strong><br />
<strong>onEntriesCreate</strong> instead of <strong>onEntryCreate</strong><br />
<strong>onEntriesDelete</strong> instead of <strong>onEntryDelete</strong><br />
<strong>onEntriesCopy</strong> instead of <strong>onEntryCopy</strong><br />
<strong>onEntriesHas</strong> instead of <strong>onEntryHas</strong></p>
</li>
<li>
<p><strong>entries</strong> Flextype EMS structure is changes because of issues with collisions (<a href="https://github.com/flextype/flextype/issues/496">#496</a>)</p>
<p>Updated structure:</p>
<pre><code class="language-php">$storage = [
    'fetch' =&gt; [
      'id' =&gt; '',
      'data' =&gt; [],
      'options' =&gt; [
          'find' =&gt; [],
          'filter' =&gt; [],
      ],
    ],
    'create' =&gt; [
      'id' =&gt; '',
      'data' =&gt; [],
    ],
    'update' =&gt; [
      'id' =&gt; '',
      'data' =&gt; [],
    ],
    'delete' =&gt; [
      'id' =&gt; '',
    ],
    'copy' =&gt; [
      'id' =&gt; '',
      'newID' =&gt; '',
    ],
    'move' =&gt; [
      'id' =&gt; '',
      'newID' =&gt; '',
    ],
    'has' =&gt; [
      'id' =&gt; '',
    ],
];
</code></pre>
</li>
<li>
<p><strong>rest-api-entries</strong> Entries Rest API - for collection fetch we should define this in the request query <code>&amp;options[collection]=true</code></p>
</li>
<li>
<p><strong>rest-api-entries</strong> Entries Rest API - instead of <code>&amp;filter=[]</code> we should define filtering in the request query like this <code>&amp;options[find]</code> and <code>&amp;options[filter]</code></p>
</li>
<li>
<p><strong>rest-api-media-files</strong> Media Files Rest API - for collection fetch we should define this in the request query <code>&amp;options[collection]=true</code></p>
</li>
<li>
<p><strong>rest-api-media-folders</strong> Media Folders Rest API - instead of <code>&amp;filter=[]</code> we should define filtering in the request query like this <code>&amp;options[find]</code> and <code>&amp;options[filter]</code></p>
</li>
<li>
<p><strong>images</strong> we will use <code>media/</code> folder instead of <code>uploads/entries/</code> (<a href="https://github.com/flextype/flextype/issues/516">#516</a>)</p>
<ul>
<li>folder <code>uploads/entries/</code> should should be renamed to <code>media/entries/</code> related to this ticket: #515</li>
<li>in the endpoint <code>/api/images/{path:.+}</code> path for entries, should starts with <code>/entries/</code>.</li>
</ul>
<p><strong>Example:</strong></p>
<p><strong>old:</strong> <code>/api/images/home/banner.jpg</code>
<strong>new:</strong> <code>/api/images/entries/home/banner.jpg</code></p>
</li>
<li>
<p><strong>entries</strong> we should use only <code>fetch()</code> method as entry point to execute different methods with <code>fetch</code> prefix. (<a href="https://github.com/flextype/flextype/issues/495">#495</a>)</p>
<ul>
<li>method <code>fetchSingle()</code> removed. Use <code>fetch($id, $options)</code> method.</li>
<li>methods <code>fetchCollection</code> removed. Use  <code>fetch($id, ['collection' =&gt; true])</code> method.</li>
</ul>
</li>
<li>
<p><strong>media-folders</strong> we should use only <code>fetch()</code> method as entry point to execute different methods with <code>fetch</code> prefix. (<a href="https://github.com/flextype/flextype/issues/509">#509</a>)</p>
<ul>
<li>method <code>fetchSingle()</code> removed. Use <code>fetch($id, $options)</code> method.</li>
<li>methods <code>fetchCollection</code> removed. Use  <code>fetch($id, ['collection' =&gt; true])</code> method.</li>
</ul>
</li>
<li>
<p><strong>media-files</strong> we should use only <code>fetch()</code> method as entry point to execute different methods with <code>fetch</code> prefix. (<a href="https://github.com/flextype/flextype/issues/508">#508</a>)</p>
<ul>
<li>method <code>fetchSingle()</code> removed. Use <code>fetch($id, $options)</code> method.</li>
<li>methods <code>fetchCollection</code> removed. Use  <code>fetch($id, ['collection' =&gt; true])</code> method.</li>
</ul>
</li>
</ul>
<h3>Update from Flextype 0.9.12 to Flextype 0.9.13</h3>
<ol>
<li>Backup your Site First!</li>
<li>
<strong>Read BREAKING CHANGES section!</strong>
</li>
<li>Download flextype-0.9.13.zip</li>
<li>Unzip the contents to a new folder on your local computer.</li>
<li>Remove on your server this folders and files:
<pre><code>src/
vendor/
var/
index.php
</code></pre>
</li>
<li>Upload on your server this folders and files:
<pre><code>src/
vendor/
index.php
</code></pre>
</li>
<li>Update all your plugins!</li>
<li>Clear browser cache!</li>
</ol>

    <div class="pt-6 mt-6 border-t-2 border-slate-800">
        <strong>Date:</strong> December 20, 2020 09:46
        <strong class="ml-2">Tags:</strong>
                                <a href="https://awilum.github.io/blog/tags/release">release</a>                        </div>
</div>
        </section>
        <footer class="py-20 text-sm text-center">
            <p class="m-0">Copyright © <a href="https://awilum.github.io/about">Sergey Romanenko</a></p>
            <p class="m-0 text-xs">POWERED BY <a href="https://awilum.github.io/flextype"">FLEXTYPE</a></p>
                                </footer>
    </main>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script src="//unpkg.com/alpinejs" defer></script>

    <script>
        hljs.highlightAll();

        var $tabs = function (target) {
        var
            _elemTabs = (typeof target === 'string' ? document.querySelector(target) : target),
            _eventTabsShow,
            _showTab = function (tabsLinkTarget) {
                var tabsPaneTarget, tabsLinkActive, tabsPaneShow;
                tabsPaneTarget = document.querySelector(tabsLinkTarget.getAttribute('href'));
                tabsLinkActive = tabsLinkTarget.parentElement.querySelector('.tabs__link_active');
                tabsPaneShow = tabsPaneTarget.parentElement.querySelector('.tabs__pane_show');
                
                if (tabsLinkTarget === tabsLinkActive) {
                    return;
                }
                
                if (tabsLinkActive !== null) {
                    tabsLinkActive.classList.remove('tabs__link_active');
                }

                if (tabsPaneShow !== null) {
                    tabsPaneShow.classList.remove('tabs__pane_show');
                }
                
                
                tabsLinkTarget.classList.add('tabs__link_active');
                tabsPaneTarget.classList.add('tabs__pane_show');
                document.dispatchEvent(_eventTabsShow);
            },
            _switchTabTo = function (tabsLinkIndex) {
                var tabsLinks = _elemTabs.querySelectorAll('.tabs__link');
                if (tabsLinks.length > 0) {
                    if (tabsLinkIndex > tabsLinks.length) {
                    tabsLinkIndex = tabsLinks.length;
                    } else if (tabsLinkIndex < 1) {
                    tabsLinkIndex = 1;
                    }
                    _showTab(tabsLinks[tabsLinkIndex - 1]);
                }
            };

            _eventTabsShow = new CustomEvent('tab.show', { detail: _elemTabs });

            _elemTabs.addEventListener('click', function(e) {
                var target = e.target.closest('.tabs__link');
                // завершаем выполнение функции, если кликнули не по ссылке
                if (!target) {
                return;
                }
                // отменяем стандартное действие
                e.preventDefault();
                _showTab(target);
        });

        return {
            showTab: function (target) {
            _showTab(target);
            },
            switchTabTo: function (index) {
            _switchTabTo(index);
            }
        }

        };

        
        var formatter = new Intl.NumberFormat('en-US');
        fetch('https://raw.githubusercontent.com/Awilum/awilum/master/github-metrics.json')
        .then(response => response.json())
        .then(function(data) {
            var ghCommits = document.querySelector(".github-commits");
            var ghLinesAdded = document.querySelector(".github-lines-added");
            var ghDeleted = document.querySelector(".github-lines-deleted");
            var ghContibuteTo = document.querySelector(".github-repositories-contributed-to");

            if (ghCommits != null) ghCommits.innerHTML = formatter.format(data.computed.commits);
            if (ghLinesAdded != null) ghLinesAdded.innerHTML = formatter.format(data.plugins.lines.added);
            if (ghDeleted != null) ghDeleted.innerHTML = formatter.format(data.plugins.lines.deleted);
            if (ghContibuteTo != null) ghContibuteTo.innerHTML = formatter.format(data.user.repositoriesContributedTo.totalCount);
        });

    </script>
        <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
    
        ym(87767318, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/87767318" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
    </body>
</html>
